{"version":3,"file":"js/18.js","sources":["webpack:///./src/containers/reviews/Reviews.css","webpack:///./src/containers/reviews/Reviews.css?ba65","webpack:///src/containers/reviews/Reviews.js"],"sourcesContent":["// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".Reviews__wrapper__2ydIp {\\r\\n    padding: 40px 80px;\\r\\n    background: #f2f2f2;\\r\\n    min-height: 700px;\\r\\n    font-family: 'Montserrat';\\r\\n}\\r\\n\\r\\n.Reviews__wrapper__2ydIp h1, .Reviews__wrapper__2ydIp h4 {\\r\\n    color: var(--mainBlue);\\r\\n}\\r\\n\\r\\n.Reviews__pages__1nYSw {\\r\\n    display: -webkit-box;\\r\\n    display: -ms-flexbox;\\r\\n    display: flex;\\r\\n    -webkit-box-pack: center;\\r\\n        -ms-flex-pack: center;\\r\\n            justify-content: center;\\r\\n    text-align: center;\\r\\n    margin-top: 25px;\\r\\n}\\r\\n\\r\\n.Reviews__page__3ZPNd {\\r\\n    padding: 8px 0;\\r\\n    width: 25px;\\r\\n    text-align: center;\\r\\n    border: 1px solid var(--mainBlue);\\r\\n    color: var(--mainBlue);\\r\\n    margin-right: 10px;\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n.Reviews__activeElement__2CZoD {\\r\\n    color: var(--mainWhite);\\r\\n    background: var(--mainBlue);\\r\\n}\\r\\n\\r\\n.Reviews__page__3ZPNd:hover {\\r\\n    color: var(--mainWhite);\\r\\n    background: var(--mainBlue);\\r\\n}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"wrapper\": \"Reviews__wrapper__2ydIp\",\n\t\"pages\": \"Reviews__pages__1nYSw\",\n\t\"page\": \"Reviews__page__3ZPNd\",\n\t\"activeElement\": \"Reviews__activeElement__2CZoD\"\n};\nmodule.exports = exports;\n","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../../node_modules/postcss-loader/src/index.js??postcss!./Reviews.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar id = \"!!../../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../../node_modules/postcss-loader/src/index.js??postcss!./Reviews.css\";\nvar update = api(id, content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","import React, { Component } from 'react';\r\nimport classes from './Reviews.css';\r\nimport ReviewsItems from '../../components/advicesAllItems/AdvicesAllItems';\r\nimport axios from 'axios';\r\n\r\nclass Reviews extends Component {\r\n    state={\r\n        allElements: [],\r\n        reviews: [\r\n            {\r\n                _id: '',\r\n                title: '',\r\n                content: '',\r\n                image: '',\r\n                created_at: '',\r\n                author: ''\r\n            }\r\n        ],\r\n        pages: 1,\r\n        page: 1,\r\n        pagesArray: [],\r\n        activePages: []\r\n    }\r\n\r\n    componentDidMount(){\r\n        axios.get('/get_all_reviews').then(response => {\r\n            this.setState({\r\n                allElements: response.data,\r\n                reviews: response.data,\r\n                pages: Math.ceil(response.data.length/10)\r\n            }, () => {\r\n                const shortArray = this.state.allElements.slice(0, 10);\r\n                const pagesArray = [];\r\n\r\n                for(let i=1; i<=this.state.pages; i++){\r\n                    pagesArray.push(i);\r\n                }\r\n\r\n                const activePages = [];\r\n\r\n                activePages[0] = true;\r\n                for(let i=1; i<pagesArray.length; i++){\r\n                    activePages.push(false);\r\n                }\r\n\r\n                this.setState({\r\n                    reviews: shortArray,\r\n                    pagesArray: pagesArray,\r\n                    activePages: activePages\r\n                });\r\n            });\r\n        });\r\n    }\r\n\r\n    switchPageHandler = (page) => {\r\n        const pages = this.state.pagesArray;\r\n        let activePages = this.state.activePages;\r\n\r\n        const index = pages.findIndex(element => element === page);\r\n        activePages.fill(false, 0, pages.length);\r\n        activePages[index] = true;\r\n\r\n        this.setState({\r\n            activePages: activePages,\r\n            page: page\r\n        }, () => {\r\n            const endPoint = this.state.page*10;\r\n            const startPoint = endPoint - 10;\r\n            const reviews = this.state.allElements.slice(startPoint, endPoint);\r\n            \r\n            this.setState({\r\n                reviews: reviews\r\n            })\r\n        })\r\n    }\r\n\r\n    render(){\r\n        const activePages = this.state.activePages;\r\n        const pages = this.state.pagesArray.map((page, index) => {\r\n            const classList = [classes.page];\r\n            if(activePages[index]){\r\n                classList.push(classes.activeElement);\r\n            }\r\n            return (\r\n                <p className={classList.join(' ')}\r\n                   onClick={() => this.switchPageHandler(page)}>{page}</p>\r\n            )\r\n        });\r\n\r\n        const elements = this.state.reviews;\r\n\r\n        return (\r\n            <div className={classes.wrapper}>\r\n                <h1>Reviews</h1>\r\n                <div>\r\n                    <ReviewsItems elements={elements}\r\n                                  reviews />\r\n                </div>\r\n                <div className={classes.pages}>\r\n                    {this.state.pages > 1 ? pages : null}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Reviews;"],"mappings":";;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;ACrBA;AACA;;;AAAA;AACA;;;AAAA;AACA;;;AAAA;AACA;;;;;;;;;;;AACA;;;;;;;;;;;;;;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AANA;AASA;AACA;AACA;AACA;AAfA;AAiDA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;;;;;AAlDA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;;;AAwBA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAFA;AAIA;AAAA;AAAA;AACA;AADA;AANA;AAWA;;;;AAlGA;AACA;AAoGA;;;;A","sourceRoot":""}