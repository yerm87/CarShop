{"version":3,"file":"js/16.js","sources":["webpack:///./src/containers/buyingAdvicesPage/BuyingAdvicesPage.css","webpack:///./src/containers/buyingAdvicesPage/BuyingAdvicesPage.css?8b39","webpack:///src/containers/buyingAdvicesPage/BuyingAdvicesPage.js"],"sourcesContent":["// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".BuyingAdvicesPage__wrapper__1NiSi {\\r\\n    font-family: 'Montserrat';\\r\\n    padding: 40px 80px;\\r\\n}\\r\\n\\r\\n.BuyingAdvicesPage__wrapper__1NiSi h1 {\\r\\n    color: var(--mainBlack);\\r\\n}\\r\\n\\r\\n.BuyingAdvicesPage__pages__13NLF {\\r\\n    display: -webkit-box;\\r\\n    display: -ms-flexbox;\\r\\n    display: flex;\\r\\n    -webkit-box-pack: center;\\r\\n        -ms-flex-pack: center;\\r\\n            justify-content: center;\\r\\n    text-align: center;\\r\\n    margin-top: 25px;\\r\\n}\\r\\n\\r\\n.BuyingAdvicesPage__page__1-lfp {\\r\\n    padding: 8px 0;\\r\\n    width: 25px;\\r\\n    text-align: center;\\r\\n    border: 1px solid var(--mainBlue);\\r\\n    color: var(--mainBlue);\\r\\n    margin-right: 10px;\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n.BuyingAdvicesPage__activeElement__2K8I9 {\\r\\n    color: var(--mainWhite);\\r\\n    background: var(--mainBlue);\\r\\n}\\r\\n\\r\\n.BuyingAdvicesPage__page__1-lfp:hover {\\r\\n    color: var(--mainWhite);\\r\\n    background: var(--mainBlue);\\r\\n}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"wrapper\": \"BuyingAdvicesPage__wrapper__1NiSi\",\n\t\"pages\": \"BuyingAdvicesPage__pages__13NLF\",\n\t\"page\": \"BuyingAdvicesPage__page__1-lfp\",\n\t\"activeElement\": \"BuyingAdvicesPage__activeElement__2K8I9\"\n};\nmodule.exports = exports;\n","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../../node_modules/postcss-loader/src/index.js??postcss!./BuyingAdvicesPage.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar id = \"!!../../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../../node_modules/postcss-loader/src/index.js??postcss!./BuyingAdvicesPage.css\";\nvar update = api(id, content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","import React, { Component } from 'react';\r\nimport classes from './BuyingAdvicesPage.css';\r\nimport axios from 'axios';\r\nimport AdvicesAllItems from '../../components/advicesAllItems/AdvicesAllItems';\r\n\r\nclass BuyingAdvicesPage extends Component {\r\n    state={\r\n        allElements: [],\r\n        buyingAdvices: [],\r\n        pages: 1,\r\n        page: 1,\r\n        pagesArray: [],\r\n        activePages: []\r\n    }\r\n\r\n    componentWillMount(){\r\n        axios.get('/get_buying_advices').then(response => {\r\n            let modifiedArray = [];\r\n\r\n            for(let i=response.data.length-1; i>=0; i--){\r\n                modifiedArray.push(response.data[i]);\r\n            }\r\n\r\n            this.setState({\r\n                allElements: modifiedArray,\r\n                buyingAdvices: modifiedArray,\r\n                pages: Math.ceil(response.data.length/10)\r\n            }, () => {\r\n                const shortArray = this.state.allElements.slice(0, 10);\r\n                const pagesArray = [];\r\n                \r\n                for(let i=1; i<=this.state.pages; i++){\r\n                    pagesArray.push(i);\r\n                }\r\n\r\n                const activePages = [];\r\n\r\n                activePages[0] = true;\r\n                for(let i=1; i<pagesArray.length; i++){\r\n                    activePages.push(false);\r\n                }\r\n\r\n                this.setState({\r\n                    buyingAdvices: shortArray,\r\n                    pagesArray: pagesArray,\r\n                    activePages: activePages\r\n                })\r\n            })\r\n        });\r\n    }\r\n\r\n    switchPageHandler = (page) => {\r\n        const pages = this.state.pagesArray;\r\n        let activePages = this.state.activePages;\r\n\r\n        const index = pages.findIndex(element => element === page);\r\n        activePages.fill(false, 0, pages.length);\r\n        activePages[index] = true;\r\n\r\n        this.setState({\r\n            activePages: activePages,\r\n            page: page\r\n        }, () => {\r\n            const endPoint = this.state.page*10;\r\n            const startPoint = endPoint - 10;\r\n            const buyingAdvices = this.state.allElements.slice(startPoint, endPoint);\r\n            \r\n            this.setState({\r\n                buyingAdvices: buyingAdvices\r\n            })\r\n        })\r\n    }\r\n\r\n    render(){\r\n        const activePages = this.state.activePages;\r\n        const pages = this.state.pagesArray.map((page, index) => {\r\n            const classList = [classes.page];\r\n            if(activePages[index]){\r\n                classList.push(classes.activeElement);\r\n            }\r\n            return (\r\n                <p className={classList.join(' ')}\r\n                   onClick={() => this.switchPageHandler(page)}>{page}</p>\r\n            )\r\n        });\r\n\r\n        const elements = this.state.buyingAdvices;\r\n\r\n        return (\r\n            <div className={classes.wrapper}>\r\n                <h1>Buying Advices</h1>\r\n                <div>\r\n                    <AdvicesAllItems elements={elements} />\r\n                </div>\r\n                <div className={classes.pages}>\r\n                    {this.state.pages > 1 ? pages : null}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default BuyingAdvicesPage;"],"mappings":";;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;ACrBA;AACA;;;AAAA;AACA;;;AAAA;AACA;;;AAAA;AACA;;;;;;;;;;;AACA;;;;;;;;;;;;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AA8CA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;;;;;AAxDA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;;;AAwBA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AADA;AAGA;AAAA;AAAA;AACA;AADA;AALA;AAUA;;;;AA9FA;AACA;AAgGA;;;;A","sourceRoot":""}